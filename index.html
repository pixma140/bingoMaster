<!DOCTYPE html>
<html>
	<head>
		<title>App</title>
		
		<!-- jQuery -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>     
		
		<!-- Bootstrap -->		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.js"></script>		 	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.js"></script>		                 
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.css">					
		
		<!-- Select2 - https://select2.org/ -->			                 	
		<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.1/css/select2.css" rel="stylesheet"/>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.1/js/select2.js"></script>					
		
		<meta charset="utf-8">
	</head>
	
	<body>
		<div style="width:100%; margin-top: 2em;">                    
		    <div style="width: 75%; margin: 0 auto;">
				<!-- <h1>App - <small>Gezogene Zahlen: <span id="myAnz">0</span> - <span id="myNumb"></span></small></h1> -->
				<h1>Bingo App - <small>Anzahl Zahlen: <span id="myAnz">0</span> - <span id="mySearch">Gesucht wird eine volle Reihe!</span></small></h1>				
				<h3><small>Gezogene Zahlen: <span id="myNumb"></span></small></h3>				
				
				<hr>
				
				<div id="buttonList">
					<!-- LOOOL -->
				</div>
				
				<hr>
				
				<div id="bingoList">
					<!-- LOOOL -->
				</div>
				
				<div id="vid">
					<!-- LOOOL -->
				</div>
				
				<script>
				
				var counter = 0;
				var numberArray = [];
				var state = 0;
				
				$(document).ready(function(){								
					for (var i = 1; i <= 90; i++) {
						//$("#buttonList").append("<input id='myBtn" + i + "' type='button' style='width: 9%; height:50px; text-align: center;' onclick='lol(" + i + ")' class='btn btn-outline-danger m-1' value='" + i + "'/>");
						$("#buttonList").append("<input id='myBtn" + i + "' type='button' style='width: 9%; text-align: center; height:50px; text-align: center;' onclick='lol(" + i + ")' class='btn btn-danger m-1' value='" + i + "'/>");
						
						// how many buttons per row
						/*if (i % 25 == 0) {
							$("#buttonList").append("<br>");
						}*/
					}
					
					$("#bingoList").append("<input id='myBtnBingo0' type='button' style='width: 32%; height:50px; text-align: center;' onclick='bingo(0)' class='btn btn-dark m-1' value='1. Freigetränk'/>");					
					$("#bingoList").append("<input id='myBtnBingo1' type='button' style='width: 32%; height:50px; text-align: center;' onclick='bingo(1)' class='btn btn-dark m-1' value='2. Freigetränk'/>");
					$("#bingoList").append("<input id='myBtnBingo2' type='button' style='width: 32%; height:50px; text-align: center;' onclick='bingo(2)' class='btn btn-dark m-1' value='Hauptpreis'/>");
				});
				
				function lol(myVar) {
					if($('#myBtn' + myVar).hasClass("btn btn-danger m-1")) {
					
						if (myVar == 1) {
							alert("Und da ist sie, die kleinste Zahl im Spiel");
						}						
						if (myVar == 63) {
							alert("Beste Zahl der Welt");
						}						
						if (myVar == 69) {
							//alert("Und da ist sie, die 69!");
							
							$('#vid').append("<iframe id='vidframe' hidden width='560' height='315' src='https://www.youtube.com/embed/hfgwrdYUQ2A?controls=0&autoplay=1' frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen></iframe>");							
							setTimeout(removeiframe, 20000); // play leave your head on for 20 secs from pressing (needs some time till it loads)
						}						
						if (myVar == 90) {
							alert("Die größte Zahl im Spiel!");
						}
					
						counter++;
						numberArray.push(myVar);
						$('#myBtn' + myVar).removeClass('btn btn-danger m-1');
						$('#myBtn' + myVar).addClass('btn btn-success m-1');
						$('#myAnz').html(counter);
						$('#myNumb').html(numberArray.sort(function(a, b){return a - b}).join(" - "));
					} else {
						counter--;
						numberArray = arrayRemove(numberArray, myVar);
						$('#myBtn' + myVar).removeClass('btn btn-success m-1');
						$('#myBtn' + myVar).addClass('btn btn-danger m-1');
						$('#myAnz').html(counter);
						$('#myNumb').html(numberArray.sort(function(a, b){return a - b}).join(" - "));
					}
				}
				
				function bingo(myVar) {
					state = myVar;
				
					if (state == 0) {
						$('#mySearch').html("Gesucht werden zwei volle Reihen auf einem Zettel!");
						
						//$('#myBtnBingo0').attr("disabled", true);
						
						$('#myBtnBingo0').removeClass();
						
						$('#myBtnBingo0').addClass('btn btn-danger m-1');
					} else if (state == 1) {
						$('#mySearch').html("Gesucht werden drei volle Reihen auf einem Zettel!");
						
						//$('#myBtnBingo0').attr("disabled", true);
						//$('#myBtnBingo1').attr("disabled", true);
						
						$('#myBtnBingo0').removeClass();
						$('#myBtnBingo1').removeClass();
						
						$('#myBtnBingo0').addClass('btn btn-danger m-1');
						$('#myBtnBingo1').addClass('btn btn-danger m-1');
					} else {
						$('#mySearch').html("Ende! Fertig! Aus! Vorbei! ");
						
						//$('#myBtnBingo0').attr("disabled", true);
						//$('#myBtnBingo1').attr("disabled", true);
						//$('#myBtnBingo2').attr("disabled", true);
						
						$('#myBtnBingo0').removeClass();
						$('#myBtnBingo1').removeClass();
						$('#myBtnBingo2').removeClass();
						
						$('#myBtnBingo0').addClass('btn btn-danger m-1');
						$('#myBtnBingo1').addClass('btn btn-danger m-1');
						$('#myBtnBingo2').addClass('btn btn-danger m-1');
					}
				}
				
				function arrayRemove(arr, value) {
					return arr.filter(function(ele){
						return ele != value;
					});
				}
				
				function removeiframe() {
					$('#vidframe').remove();
					//alert("removed");
				}
				</script>
			</div>
		</div>
	</body>
</html>
